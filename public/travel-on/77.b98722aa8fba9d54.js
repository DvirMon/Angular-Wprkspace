"use strict";(self.webpackChunktravel_on=self.webpackChunktravel_on||[]).push([[77],{8077:(P,_,a)=>{a.r(_),a.d(_,{ResetPageComponent:()=>r});var e=a(2716),p=a(9079),h=a(1413),l=a(786),d=a(7405),m=a(2813),g=a(7448),b=a(5505),E=a(213);function v(t,i){if(1&t){const n=e.RV6();e.j41(0,"to-reset-password-form",2),e.bIt("resetPassword",function(u){e.eBV(n);const c=e.XpG();return e.Njj(c.onResetPassword(u))}),e.k0s()}}function s(t,i){if(1&t){const n=e.RV6();e.j41(0,"to-reset-contact-form",3),e.bIt("resetEmail",function(u){e.eBV(n);const c=e.XpG();return e.Njj(c.onResetEmail(u))}),e.k0s(),e.nrm(1,"dom-card-button",4)}if(2&t){const n=e.XpG();e.Y8G("serverError",n.serverError()),e.R7$(),e.Y8G("routerLink","/register")}}let r=(()=>{class t{#e;#t;#r;constructor(){this.#e=(0,e.WQX)(m.a),this.#t=(0,e.WQX)(b.R),this.#r=(0,e.WQX)(g.o),this.resetEmail=new h.B,this.serverError=(0,e.vPA)(void 0),this.mode=e.hFB.required(),this.oobCode=e.hFB.required(),this.showNewPassword=(0,e.EWP)(()=>!!this.mode()),this.resetEmail.asObservable().pipe((0,l.p)(n=>this.#t.sendResetEmail$(n).pipe()),(0,p.pQ)()).subscribe({next:()=>this.#r.openDialog(d.wA,{email:"",event:d.xO.RESET}),error:n=>{const o=(0,d.wo)(n.code);this.serverError.set(o)}})}onResetEmail(n){this.resetEmail.next(n)}onResetPassword(n){this.#e.confirmPasswordReset({newPassword:n,oobCode:this.oobCode(),event:d.Vs.RESET_PASSWORD})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["to-reset"]],inputs:{mode:[1,"mode"],oobCode:[1,"oobCode"]},standalone:!0,features:[e.aNF],decls:4,vars:1,consts:[[1,"reset-page-wrapper"],[1,"reset-wrapper"],[3,"resetPassword"],[3,"resetEmail","serverError"],["label","Don't have an account?","boldLabel","Sign up",1,"front",3,"routerLink"]],template:function(o,u){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,v,1,0,"to-reset-password-form")(3,s,2,2),e.k0s()()),2&o&&(e.R7$(2),e.vxM(u.showNewPassword()?2:3))},dependencies:[d.l,d.UY,E.k],styles:["[_nghost-%COMP%]   div.reset-page-wrapper[_ngcontent-%COMP%]{height:100%;background-image:url(reset.1a8bae07f351d8bd.jpg);background-repeat:no-repeat;background-size:cover;background-position:center;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   div.reset-wrapper[_ngcontent-%COMP%]{width:400px;display:flex;flex-direction:column;gap:16px}"],changeDetection:0})}}return t})()},9079:(P,_,a)=>{a.d(_,{ot:()=>E,pQ:()=>l});var e=a(2716),p=a(1985),h=a(6977);function l(s){s||((0,e.Af3)(l),s=(0,e.WQX)(e.abz));const r=new p.c(t=>s.onDestroy(t.next.bind(t)));return t=>t.pipe((0,h.Q)(r))}function E(s,r){const t=!r?.manualCleanup;t&&!r?.injector&&(0,e.Af3)(E);const i=t?r?.injector?.get(e.abz)??(0,e.WQX)(e.abz):null,n=function v(s=Object.is){return(r,t)=>1===r.kind&&1===t.kind&&s(r.value,t.value)}(r?.equal);let o;o=(0,e.vPA)(r?.requireSync?{kind:0}:{kind:1,value:r?.initialValue},{equal:n});const u=s.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{if(r?.rejectErrors)throw c;o.set({kind:2,error:c})}});return i?.onDestroy(u.unsubscribe.bind(u)),(0,e.EWP)(()=>{const c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new e.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}},{equal:r?.equal})}}}]);